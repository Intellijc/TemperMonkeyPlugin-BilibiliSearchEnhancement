正式筛选视频评分算法 V3.0
基础指标：

view（播放量）
like（点赞数）
favorite（收藏数）
coin（投币数）
reply（评论数）
share（分享次数）
danmaku（弹幕数）
duration（视频时长，单位：秒）

计算公式：

视频得分 = 40 * (favorite/view) +
20 * (like/view) +
15 * (coin/view) +
10 * (reply/view) +
7 * (share/view) +
5 * (danmaku/view) +
3 * log10(view) -
5 * max(0, (duration - 1200) / 1200)

筛选标准：

like/view < 1% 直接排除
favorite/view < 2% 直接排除
coin/view < 0.5% 直接排除

公式说明：

收藏率仍然最重要，权重40。
点赞率权重为20，略低于收藏率。
投币率权重为15，表示较高的认可度。
评论率权重为10，反映观众参与度。
新增分享率，权重为7，反映内容的传播价值。
新增弹幕率，权重为5，反映观众实时互动程度。
播放量采用对数，权重3，平衡热门度。
视频时长调整：超过20分钟（1200秒）的视频每多20分钟扣1分，最多扣5分。

优点：

全面考虑了B站的各种互动指标，包括之前遗漏的分享次数和弹幕数。
调整了权重分配，更好地反映各指标的重要性。
保持了对长视频的温和处理，不过分惩罚高质量长内容。
筛选标准保持不变，确保基本质量门槛。
更加全面地考虑了B站视频的各种互动指标，同时保持了相对简单和直观的结构。
应该能更准确地评估视频的整体质量和受欢迎程度，适用于各种长度和类型的视频。

考虑在后期添加视频评分功能,通过用户对视频的评分,用一个越来越低的学习率λ去修改我的公式中各个值的权重
这个学习率λ的算法如下,用户在大约给20个视频进行评分后,学习程度达到90%左右,也就是学习率变为初始的10%
    0.1 = e^(-20λ)
    解这个方程：λ ≈ 0.115
所以学习率=max(0.5*e^(-λ*n),0.001) n为用户给视频评分的次数




---

     score = a * (like / (view + k1)^b) + c * (favorite / (view + k1)^b) + d * (coin / (view + k1)^b) + e * (reply / (view + k2)) + f * duration + g * share

 公式的前三项分别计算点赞率、收藏率、投币率，并对播放量进行了更强的压缩，以降低其影响。
第四项考虑了评论数，但权重相对较低。
第五项考虑了视频时长，时长越长，得分越高，但权重也相对较低。
最后一项考虑了分享次数，分享次数越多，得分越高，但权重也相对较低。

a, c, d, e, f, g: 各个指标的权重，需要根据实际情况进行调整，例如可以根据经验设定初始值为 a = 0.4, c = 0.3, d = 0.2, e = 0.1, f = 0.05,  g = 0.1， 然后通过观察排序结果和用户反馈进行微调。
k1, k2:  平滑参数，用于避免播放量过低时出现数值过大的情况，建议设置为较小的正数，例如 k1 = 10, k2 = 100.
b: 播放量压缩指数，用于调节播放量对最终得分的影响程度，建议设置为大于1的数，例如 b = 1.5， 值越大，播放量的影响越小。

如果我更看重用户互动 ,提高评论和弹幕
看重视频质量 提高 收藏,小幅提高投币和点赞
看重节目效果 ,提高 弹幕和分享
